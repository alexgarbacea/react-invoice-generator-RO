(this["webpackJsonpinvoice-generator"]=this["webpackJsonpinvoice-generator"]||[]).push([[0],{42:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n.n(c),a=n(28),i=n.n(a),s=(n(42),n(4)),l=n(8),o=n(13),j=n(21),u=n(5),d=n(7),b=n.n(d),O=n(9),p=n(36).a.initializeApp({apiKey:"AIzaSyDjdm5ghzxaj2VN-pGl3bBM0gBmWTKax3I",authDomain:"invoice-generator-1.firebaseapp.com",projectId:"invoice-generator-1",storageBucket:"invoice-generator-1.appspot.com",messagingSenderId:"726025216245",appId:"1:726025216245:web:b86d28b31c6f80cf8325bc",measurementId:"G-W4JHWSRNN5"}),h=p.auth(),m=p.firestore(),x=n(0),v=r.a.createContext(),f=function(){return Object(c.useContext)(v)},g=function(e){var t=e.children,n=Object(c.useState)(),r=Object(s.a)(n,2),a=r[0],i=r[1],l=Object(c.useState)([]),d=Object(s.a)(l,2),p=d[0],f=d[1],g=Object(c.useState)([]),y=Object(s.a)(g,2),C=y[0],N=y[1],S=Object(c.useState)([]),w=Object(s.a)(S,2),k=w[0],I=w[1],A=Object(c.useState)(),T=Object(s.a)(A,2),F=T[0],P=T[1],V=Object(c.useState)({}),D=Object(s.a)(V,2),E=D[0],R=D[1],U=Object(c.useState)([]),q=Object(s.a)(U,2),B=q[0],M=q[1],L=Object(c.useState)(!0),z=Object(s.a)(L,2),Z=z[0],G=z[1],H=Object(c.useState)(!1),K=Object(s.a)(H,2),W=K[0],Y=K[1],J=Object(c.useState)(""),X=Object(s.a)(J,2),$=X[0],Q=X[1],_=Object(o.g)(),ee=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(""),Y(!0),e.prev=2,e.next=5,h.createUserWithEmailAndPassword(n,r).then((function(e){var n=e.user;n.updateProfile({displayName:t}),n.sendEmailVerification(),_.push("/")}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),Q(e.t0.message);case 10:Y(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n,c,r){return e.apply(this,arguments)}}(),te=function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(""),Y(!0),e.prev=2,e.next=5,h.signInWithEmailAndPassword(t,n);case 5:_.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Q(e.t0.message);case 11:Y(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.prev=1,e.next=4,h.sendPasswordResetEmail(t);case 4:return e.abrupt("return",alert("Password reset link sent!"));case 7:e.prev=7,e.t0=e.catch(1),Q(e.t0.message);case 10:Y(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){Q(""),Y(!0);try{a.updateEmail(e)}catch(t){Q(t.message)}Y(!1)},re=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.updateProfile({displayName:t}),ce(n)}catch(c){console.log(c.message)}case 1:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),ae=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f([]),e.next=4,m.collection("Companies").where("uid","==",t).get().then((function(e){e.forEach((function(e){var t=Object(u.a)(Object(u.a)({},e.data()),{},{compId:e.id});f((function(e){return[].concat(Object(j.a)(e),[t])}))}))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r,i,s,l,o,j,u,d,O,p,h,x,v,f){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("Companies").add({uid:a.uid,name:t,cif:n,regCom:c,address:r,capSoc:i,bank:s,account:l,phone:o,tva:j,tvaPay:u,logo:d,serie:O,nrStart:p,term:h,delName:x,delCI:v,delCNP:f});case 3:alert("The company ".concat(t," was added!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,c,r,a,i,s,l,o,j,u,d,b,O,p,h,m){return e.apply(this,arguments)}}(),se=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r,a,i,s,l,o,j,u,d,O,p,h,x,v,f){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("Companies").doc(t).update({name:n,cif:c,regCom:r,address:a,capSoc:i,bank:s,account:l,phone:o,tva:j,tvaPay:u,logo:d,serie:O,nrStart:p,term:h,delName:x,delCI:v,delCNP:f});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,c,r,a,i,s,l,o,j,u,d,b,O,p,h,m,x){return e.apply(this,arguments)}}(),le=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this company?")){e.next=10;break}return e.prev=2,e.next=5,m.collection("Companies").doc(t).delete();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N([]),e.next=4,m.collection("Clients").where("uid","==",t).get().then((function(e){e.forEach((function(e){var t=Object(u.a)(Object(u.a)({},e.data()),{},{cliId:e.id});N((function(e){return[].concat(Object(j.a)(e),[t])}))}))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r,i,s){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("Clients").add({uid:a.uid,name:t,cif:n,regCom:c,address:r,bank:i,account:s});case 3:alert("The client ".concat(t," was added!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,c,r,a,i){return e.apply(this,arguments)}}(),ue=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r,a,i,s){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("Clients").doc(t).update({name:n,cif:c,regCom:r,address:a,bank:i,account:s});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,c,r,a,i,s){return e.apply(this,arguments)}}(),de=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this client?")){e.next=10;break}return e.prev=2,e.next=5,m.collection("Clients").doc(t).delete();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("Invoices").where("companyName","==",t).orderBy("invoiceDate","desc").limit(1).get().then((function(e){e.forEach((function(e){return R(e.data())}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.prev=1,I([]),e.next=5,m.collection("Invoices").where("uid","==",t).orderBy("invoiceDate","desc").get().then((function(e){e.forEach((function(e){var t=Object(u.a)(Object(u.a)({},e.data()),{},{invId:e.id});I((function(e){return[].concat(Object(j.a)(e),[t])})),e.data().items.map((function(e){return n+=(e.val&&parseFloat(e.val))+(e.tva&&parseFloat(e.tva))}))}))}));case 5:P(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this invoice?")){e.next=10;break}return e.prev=2,e.next=5,m.collection("Invoices").doc(t).delete();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("Invoices").add({uid:a.uid,invoiceDate:t.invoiceDate,invoiceTerm:t.invoiceTerm,invoiceSeries:t.invoiceSeries,invoiceNr:t.invoiceNr,delName:t.delName,delCNP:t.delCNP,delSeries:t.delSeries,transport:t.transport,companyName:t.companyName,companyCIF:t.companyCIF,companyRegCom:t.companyRegCom,companyAdresa:t.companyAdresa,companyCapSocial:t.companyCapSocial,companyCont:t.companyCont,companyBank:t.companyBank,companyTelefon:t.companyTelefon,companyTVA:t.companyTVA,companyTVApay:t.companyTVApay,companyLogo:t.companyLogo,clientName:t.clientName,clientCIF:t.clientCIF,clientRegCom:t.clientRegCom,clientAdresa:t.clientAdresa,clientCont:t.clientCont,clientBank:t.clientBank,items:t.items});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M([]),e.next=4,m.collection("Products").where("uid","==",t).get().then((function(e){e.forEach((function(e){var t=Object(u.a)(Object(u.a)({},e.data()),{},{prodId:e.id});M((function(e){return[].concat(Object(j.a)(e),[t])}))}))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this product/service?")){e.next=10;break}return e.prev=2,e.next=5,m.collection("Products").doc(t).delete();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("Products").add({uid:a.uid,name:t,um:n,price:c,compId:r});case 3:alert("The product/service ".concat(t," was added!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,c,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("Products").doc(t).update({name:n,um:c,price:r,compId:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,c,r,a){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return h.onAuthStateChanged((function(e){i(e),G(!1)}))}),[]);var ge={currentUser:a,login:te,signup:ee,verifyEmail:function(){try{h.onAuthStateChanged((function(e){return e.sendEmailVerification()})),alert("Email verification sent.\nRefresh the page after you verify your email.")}catch(e){console.log(e.message)}},logout:function(){return h.signOut()},resetPassword:ne,updateEmail:ce,updatePassword:function(e){Q(""),Y(!0);try{a.updatePassword(e)}catch(t){Q(t.message)}Y(!1)},updateProfile:re,error:$,userCompanies:p,getCompanies:ae,newCompany:ie,updateCompany:se,deleteCompany:le,dbLoading:W,clients:C,getClients:oe,newClient:je,updateClient:ue,deleteClient:de,invoices:k,getInvoices:Oe,newInvoice:he,invoicesEarnings:F,getLastInvoice:be,lastInvoiceData:E,deleteInvoice:pe,getProducts:me,products:B,deleteProduct:xe,newProduct:ve,updateProduct:fe};return Object(x.jsx)(v.Provider,{value:ge,children:!Z&&t})},y=n(35),C=r.a.forwardRef((function(e,t){var n=e.data,r=e.nota,a=e.border,i=Object(c.useState)(0),l=Object(s.a)(i,2),o=l[0],j=l[1],u=new Intl.NumberFormat("en-US"),d=function(e){var t=new Date(e),n=t.getMonth()+1<10?("0"+t.getMonth()+1).slice(-2):t.getMonth()+1,c=t.getDate()<10?("0"+t.getDate()).slice(-2):t.getDate();return"".concat(c,"/").concat(n,"/").concat(t.getFullYear())},b=function(){var e=0;return n.items.map((function(t){return e+=parseFloat(t.val)+parseFloat(t.tva)})),u.format(e)},O=function(e){var t=0;return e?(n.items.map((function(e){return t+=parseFloat(e.tva)})),u.format(t)):(n.items.map((function(e){return t+=parseFloat(e.val)})),u.format(t))},p=[Object(x.jsx)("div",{className:"print-bg",ref:t,children:Object(x.jsx)("div",{className:"page a4",children:Object(x.jsxs)("div",{className:"page-padding",children:[Object(x.jsxs)("div",{className:"page-row",children:[n.companyLogo&&Object(x.jsx)("img",{className:"img-invoice",src:n.companyLogo,alt:"company logo"}),Object(x.jsxs)("div",{className:"invoice-top-data",children:[Object(x.jsx)("h1",{children:"FACTUR\u0102"}),Object(x.jsx)("table",{className:"table-item-preview table-invoice-top",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Serie"}),Object(x.jsx)("th",{children:"Num\u0103r"}),Object(x.jsx)("th",{children:"Dat\u0103"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:n.invoiceSeries}),Object(x.jsx)("td",{children:n.invoiceNr}),Object(x.jsx)("td",{children:d(n.invoiceDate)})]})]})})]})]}),Object(x.jsxs)("div",{className:"page-row company-table",children:[Object(x.jsxs)("div",{className:"company-table-inside",style:{borderRight:"2px solid #ddd"},children:[Object(x.jsx)("div",{children:"Furnizor:"}),Object(x.jsx)("div",{children:n.companyName}),Object(x.jsxs)("div",{children:["CIF: ",n.companyCIF]}),Object(x.jsxs)("div",{children:["Reg. com.: ",n.companyRegCom]}),Object(x.jsxs)("div",{children:["Adres\u0103: ",n.companyAdresa]}),Object(x.jsxs)("div",{children:["Telefon: ",n.companyTelefon]}),Object(x.jsxs)("div",{children:["Cont: ",n.companyCont]}),Object(x.jsxs)("div",{children:["Banc\u0103: ",n.companyBank]}),Object(x.jsxs)("div",{children:["Cap. social: ",n.companyCapSocial]}),n.companyTVA>0&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{children:["Cot\u0103 TVA: ",n.companyTVA,"% - ",n.companyTVApay&&"TVA la \xeencasare"]})})]}),Object(x.jsxs)("div",{className:"company-table-inside",style:{marginLeft:"10px"},children:[Object(x.jsx)("div",{children:"Client:"}),Object(x.jsx)("div",{children:n.clientName}),Object(x.jsxs)("div",{children:["CIF: ",n.clientCIF]}),Object(x.jsxs)("div",{children:["Reg. com.: ",n.clientRegCom]}),Object(x.jsxs)("div",{children:["Adres\u0103: ",n.clientAdresa]}),Object(x.jsxs)("div",{children:["Cont: ",n.clientCont]}),Object(x.jsxs)("div",{children:["Banc\u0103: ",n.clientBank]})]})]}),Object(x.jsx)("table",{className:a?"table-item-preview table-invoice-services":"table-item-preview table-invoice-services table-nomargin",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Nr. crt"}),Object(x.jsx)("th",{children:"Denumirea produselor sau a serviciilor"}),Object(x.jsx)("th",{children:"U.M."}),Object(x.jsx)("th",{children:"Cantitate"}),Object(x.jsx)("th",{children:"Pre\u021b unitar"}),Object(x.jsx)("th",{children:"Valoare lei"}),n.companyTVA>0&&Object(x.jsx)("th",{children:"Valoare TVA"})]}),n.items.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.um}),Object(x.jsx)("td",{children:u.format(parseFloat(e.qt))}),Object(x.jsx)("td",{children:u.format(parseFloat(e.unitPrice))}),Object(x.jsx)("td",{children:u.format(parseFloat(e.val))}),n.companyTVA>0&&Object(x.jsx)("td",{children:u.format(parseFloat(e.tva))})]},t)})),Object(x.jsxs)("tr",{style:{borderTop:"4px solid #ddd"},children:[Object(x.jsx)("td",{colSpan:1,rowSpan:2,style:{backgroundColor:"white"},children:Object(x.jsxs)("div",{style:{textAlign:"right"},children:[Object(x.jsx)("div",{children:"Delegat:"}),Object(x.jsx)("div",{children:"CNP:"}),Object(x.jsx)("div",{children:"C.I.:"}),Object(x.jsx)("div",{children:"Transport:"})]})}),Object(x.jsx)("td",{colSpan:3,rowSpan:2,style:{backgroundColor:"white",verticalAlign:"top"},children:Object(x.jsxs)("div",{style:{textAlign:"left"},children:[Object(x.jsx)("div",{children:n.delName}),Object(x.jsx)("div",{children:n.delCNP}),Object(x.jsx)("div",{children:n.delSeries}),Object(x.jsx)("div",{children:n.transport})]})}),Object(x.jsx)("td",{colSpan:1,rowSpan:2,children:"TOTAL:"}),n.companyTVA>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("td",{children:O(!1)}),Object(x.jsx)("td",{children:O(!0)})]})]}),Object(x.jsx)("tr",{children:Object(x.jsxs)("td",{colSpan:n.companyTVA>0?2:1,children:[b()," lei"]})}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{colSpan:4,style:{paddingBottom:"20%",backgroundColor:"white"},children:"Semn\u0103tur\u0103 \u0219i \u0219tampil\u0103 furnizor"}),Object(x.jsx)("td",{colSpan:3,style:{paddingBottom:"20%",backgroundColor:"white"},children:"Semn\u0103tur\u0103 de primire"})]})]})}),Object(x.jsxs)("div",{style:{textAlign:"center"},children:["Termen de plat\u0103: ",n.invoiceTerm," zile de la emiterea facturii."]}),r&&Object(x.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(x.jsxs)("small",{children:["Not\u0103: Potrivit art. 319, alin. 29 din Legea nr.227/2015 privind Codul fiscal,",Object(x.jsx)("br",{}),Object(x.jsx)("span",{style:{fontStyle:"italic"},children:'"semnarea si stampilarea facturilor nu constituie elemente obligatorii pe care trebuie sa le contina factura".'})]})})]})})}),Object(x.jsx)("div",{className:"print-bg",ref:t,children:Object(x.jsx)("div",{className:"page a4",children:Object(x.jsxs)("div",{className:"page-padding",children:[Object(x.jsxs)("div",{className:"page-row",children:[n.companyLogo&&Object(x.jsx)("img",{className:"img-invoice",src:n.companyLogo,alt:"company logo"}),Object(x.jsx)("div",{className:"invoice-top-data",children:Object(x.jsx)("table",{className:"table-item-preview table-invoice-top table-nomargin",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{style:{fontSize:"2em"},children:"Factura"}),Object(x.jsx)("th",{}),Object(x.jsxs)("th",{children:[n.invoiceSeries," ",n.invoiceNr]})]}),Object(x.jsx)("tr",{children:Object(x.jsxs)("td",{colSpan:3,style:{textAlign:"left"},children:["Data emiterii: ",d(n.invoiceDate)]})})]})})})]}),Object(x.jsxs)("div",{className:"page-row company-table",style:{border:"none"},children:[Object(x.jsxs)("div",{className:"company-table-inside",children:[Object(x.jsx)("div",{children:"Furnizor:"}),Object(x.jsx)("table",{className:"table-nomargin table-strong-title",children:Object(x.jsxs)("tbody",{children:[Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:2,children:n.companyName})}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"CIF:"}),Object(x.jsx)("td",{children:n.companyCIF})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Reg. com.:"}),Object(x.jsx)("td",{children:n.companyRegCom})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Adres\u0103:"}),Object(x.jsx)("td",{children:n.companyAdresa})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Telefon:"}),Object(x.jsx)("td",{children:n.companyTelefon})]}),n.companyCont&&Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Cont:"}),Object(x.jsx)("td",{children:n.companyCont})]}),n.companyBank&&Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Banc\u0103:"}),Object(x.jsx)("td",{children:n.companyBank})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Cap. social:"}),Object(x.jsxs)("td",{children:[n.companyCapSocial," lei"]})]})]})}),n.companyTVA>0&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{children:["Cot\u0103 TVA: ",n.companyTVA,"% - ",n.companyTVApay&&"TVA la \xeencasare"]})})]}),Object(x.jsxs)("div",{className:"company-table-inside",style:{marginLeft:"10px"},children:[Object(x.jsx)("div",{children:"Client:"}),Object(x.jsx)("table",{className:"table-nomargin table-strong-title",children:Object(x.jsxs)("tbody",{children:[Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:2,children:n.clientName})}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"CIF:"}),Object(x.jsx)("td",{children:n.clientCIF})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Reg. com.:"}),Object(x.jsx)("td",{children:n.clientRegCom})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Adres\u0103:"}),Object(x.jsx)("td",{children:n.clientAdresa})]}),n.clientCont&&Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Cont:"}),Object(x.jsx)("td",{children:n.clientCont})]}),n.clientBank&&Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Banc\u0103:"}),Object(x.jsx)("td",{children:n.clientBank})]})]})})]})]}),Object(x.jsx)("table",{className:a?"table-item-preview table-invoice-services":"table-item-preview table-invoice-services table-nomargin",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Nr"}),Object(x.jsx)("th",{children:"Denumire produs/serviciu"}),Object(x.jsx)("th",{children:"U.M."}),Object(x.jsx)("th",{children:"Cant."}),Object(x.jsx)("th",{children:"Pre\u021b unitar"}),Object(x.jsx)("th",{children:"Valoare lei"}),n.companyTVA>0&&Object(x.jsx)("th",{children:"Valoare TVA"})]}),n.items.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.um}),Object(x.jsx)("td",{children:u.format(parseFloat(e.qt))}),Object(x.jsx)("td",{children:u.format(parseFloat(e.unitPrice))}),Object(x.jsx)("td",{children:u.format(parseFloat(e.val))}),n.companyTVA>0&&Object(x.jsx)("td",{children:u.format(parseFloat(e.tva))})]},t)})),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{colSpan:5,rowSpan:2,style:{textAlign:"right"},children:"TOTAL:"}),n.companyTVA>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("td",{children:[O(!1)," lei"]}),Object(x.jsxs)("td",{children:[O(!0)," lei"]})]})]}),Object(x.jsx)("tr",{children:Object(x.jsxs)("td",{colSpan:n.companyTVA>0?2:1,children:[b()," lei"]})})]})})]})})})];return Object(x.jsxs)(x.Fragment,{children:[p[o],Object(x.jsx)("div",{className:"invoice-menu",style:{cursor:"pointer",left:"120px"},onClick:function(){return j(o===p.length-1?0:o+1)},title:"change template",children:"\ud83d\udc41\ufe0f"})]})})),N=function(e){var t=e.data;window.onbeforeunload=function(){return"Refresh?"};var n="#2991F7",r=Object(c.useState)(!0),a=Object(s.a)(r,2),i=a[0],o=a[1],j=Object(c.useState)(!0),u=Object(s.a)(j,2),d=u[0],b=u[1],O=Object(c.useState)(!1),p=Object(s.a)(O,2),h=p[0],m=p[1],v=Object(c.useRef)(),f=Object(y.useReactToPrint)({content:function(){return v.current}});return Object(x.jsx)("div",{children:t.items?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C,{ref:v,data:t,nota:i,border:d}),Object(x.jsx)(l.b,{to:"/",className:"btn btn-close-hide btn-left",children:"X"}),Object(x.jsx)("span",{title:"save",style:{position:"fixed",bottom:"1%",right:"10px"},className:"btn btn-right",onClick:f,children:"Save"}),h&&Object(x.jsxs)("div",{className:"invoice-menu",children:[Object(x.jsxs)("div",{onClick:function(){return o(!i)},style:{cursor:"pointer",userSelect:"none"},children:["Not\u0103 subsol: ",Object(x.jsx)("input",{style:{cursor:"pointer"},type:"checkbox",checked:i,readOnly:!0})]}),Object(x.jsxs)("div",{onClick:function(){return b(!d)},style:{cursor:"pointer",userSelect:"none"},children:["Chenar tabel: ",Object(x.jsx)("input",{style:{cursor:"pointer"},type:"checkbox",checked:d,readOnly:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Background: "}),Object(x.jsx)("input",{type:"color",defaultValue:n,onChange:function(e){return function(e){document.documentElement.style.setProperty("--table-bg",e)}(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:"Text: "}),Object(x.jsx)("input",{type:"color",defaultValue:"#ffffff",onChange:function(e){return function(e){document.documentElement.style.setProperty("--table-text",e)}(e.target.value)}})]}),Object(x.jsx)("div",{style:{textAlign:"center",textDecoration:"underline"},children:Object(x.jsx)("small",{style:{cursor:"pointer"},onClick:function(){document.documentElement.style.setProperty("--table-bg",n),document.documentElement.style.setProperty("--table-text","#ffffff"),o(!0)},children:"Reset values"})}),Object(x.jsx)("small",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return m(!1)},title:"close options",children:"close"})]}),!h&&Object(x.jsx)("div",{className:"invoice-menu",style:{cursor:"pointer"},onClick:function(){return m(!0)},title:"options",children:"\u2699\ufe0f"})]}):Object(x.jsxs)("div",{style:{textAlign:"center"},children:[Object(x.jsx)("h1",{children:"No data for invoice :("}),Object(x.jsx)(l.b,{to:"/",children:"Go back"})]})})},S=function(){var e=Object(o.g)(),t=f().currentUser,n={fontSize:"30px",width:"50% "};return Object(x.jsxs)("div",{className:"main-menu",children:[Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"INVOICE GENERATOR"}),t&&Object(x.jsxs)("h3",{children:["Hello, ",t.displayName]}),Object(x.jsxs)("div",{className:"main-select",children:[Object(x.jsx)(l.b,{className:"btn",style:n,to:"/new-invoice",children:"New Invoice"}),t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.b,{className:"btn",style:n,to:"/profile",children:"My profile"}),Object(x.jsx)(l.b,{className:"btn",style:n,to:"/companies",children:"My companies"}),Object(x.jsx)(l.b,{className:"btn",style:n,to:"/clients",children:"Clients"}),Object(x.jsx)(l.b,{className:"btn",style:n,to:"/products",children:"Products"}),Object(x.jsx)(l.b,{className:"btn",style:n,to:"/history",children:"History"}),Object(x.jsx)("div",{className:"btn log-out",onClick:function(){h.signOut(),e.push("/")},children:"Log out"})]}):Object(x.jsx)("div",{style:{userSelect:"none"},children:"Free version"})]})]})},w=function(){return Object(x.jsxs)("div",{className:"nav",children:[Object(x.jsx)(l.b,{to:"/",children:"Menu"}),Object(x.jsx)(l.b,{to:"/new-invoice",children:"New Invoice"}),Object(x.jsx)(l.b,{to:"/profile",children:"My Profile"}),Object(x.jsx)(l.b,{to:"/companies",children:"My Companies"}),Object(x.jsx)(l.b,{to:"/clients",children:"Clients"}),Object(x.jsx)(l.b,{to:"/products",children:"Products"}),Object(x.jsx)(l.b,{to:"/history",children:"History"})]})},k=function(e){var t=e.items,n=e.valTVA,c=e.delProd,r=new Intl.NumberFormat("en-US");return Object(x.jsx)("table",{className:"table-item-preview",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Nr. crt"}),Object(x.jsx)("th",{children:"Denumirea produselor sau a serviciilor"}),Object(x.jsx)("th",{children:"U.M."}),Object(x.jsx)("th",{children:"Cantitate"}),Object(x.jsx)("th",{children:"Pre\u021b unitar"}),Object(x.jsx)("th",{children:"Valoare lei"}),n>0&&Object(x.jsx)("th",{children:"Valoare TVA"})]}),t.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.um}),Object(x.jsx)("td",{children:r.format(parseFloat(e.qt))}),Object(x.jsx)("td",{children:r.format(parseFloat(e.unitPrice))}),Object(x.jsx)("td",{children:r.format(parseFloat(e.val))}),n>0&&Object(x.jsx)("td",{children:r.format(parseFloat(e.tva))}),Object(x.jsx)("td",{children:Object(x.jsx)("span",{title:"delete entry",onClick:function(){return c(t)},style:{color:"red",fontWeight:"bolder",cursor:"pointer"},children:"X"})})]},t)})),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{colSpan:5,children:"TOTAL:"}),Object(x.jsx)("td",{colSpan:n>0?2:1,children:function(){var e=0;return t.map((function(t){return e+=parseFloat(t.val)+parseFloat(t.tva)})),r.format(e)}()})]})]})})},I=function(e){var t=e.generateInvoice,n=f(),r=n.userCompanies,a=n.getCompanies,i=n.currentUser,d=n.clients,p=n.getClients,h=n.newInvoice,m=n.getLastInvoice,v=n.lastInvoiceData,g=n.products,y=n.getProducts;Object(c.useEffect)((function(){a(i.uid),p(i.uid),y(i.uid)}),[]);var C=Object(o.g)(),N=Object(c.useState)(""),S=Object(s.a)(N,2),I=S[0],A=S[1],T=Object(c.useState)(15),F=Object(s.a)(T,2),P=F[0],V=F[1],D=Object(c.useState)(""),E=Object(s.a)(D,2),R=E[0],U=E[1],q=Object(c.useState)(""),B=Object(s.a)(q,2),M=B[0],L=B[1],z=Object(c.useState)(""),Z=Object(s.a)(z,2),G=Z[0],H=Z[1],K=Object(c.useState)(""),W=Object(s.a)(K,2),Y=W[0],J=W[1],X=Object(c.useState)(""),$=Object(s.a)(X,2),Q=$[0],_=$[1],ee=Object(c.useState)(""),te=Object(s.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)(""),ae=Object(s.a)(re,2),ie=ae[0],se=ae[1],le=Object(c.useState)(""),oe=Object(s.a)(le,2),je=oe[0],ue=oe[1],de=Object(c.useState)(""),be=Object(s.a)(de,2),Oe=be[0],pe=be[1],he=Object(c.useState)(""),me=Object(s.a)(he,2),xe=me[0],ve=me[1],fe=Object(c.useState)(""),ge=Object(s.a)(fe,2),ye=ge[0],Ce=ge[1],Ne=Object(c.useState)(0),Se=Object(s.a)(Ne,2),we=Se[0],ke=Se[1],Ie=Object(c.useState)(""),Ae=Object(s.a)(Ie,2),Te=Ae[0],Fe=Ae[1],Pe=Object(c.useState)(""),Ve=Object(s.a)(Pe,2),De=Ve[0],Ee=Ve[1],Re=Object(c.useState)(""),Ue=Object(s.a)(Re,2),qe=Ue[0],Be=Ue[1],Me=Object(c.useState)(19),Le=Object(s.a)(Me,2),ze=Le[0],Ze=Le[1],Ge=Object(c.useState)(!0),He=Object(s.a)(Ge,2),Ke=He[0],We=He[1],Ye=Object(c.useState)(""),Je=Object(s.a)(Ye,2),Xe=Je[0],$e=Je[1],Qe=Object(c.useState)([{cif:!1,regCom:!1,cont:!1,telefon:!1}]),_e=Object(s.a)(Qe,2),et=_e[0],tt=_e[1],nt=Object(c.useState)(""),ct=Object(s.a)(nt,2),rt=ct[0],at=ct[1],it=Object(c.useState)(""),st=Object(s.a)(it,2),lt=st[0],ot=st[1],jt=Object(c.useState)(""),ut=Object(s.a)(jt,2),dt=ut[0],bt=ut[1],Ot=Object(c.useState)(""),pt=Object(s.a)(Ot,2),ht=pt[0],mt=pt[1],xt=Object(c.useState)(""),vt=Object(s.a)(xt,2),ft=vt[0],gt=vt[1],yt=Object(c.useState)(""),Ct=Object(s.a)(yt,2),Nt=Ct[0],St=Ct[1],wt=Object(c.useState)([{cif:!1,regCom:!1,cont:!1,telefon:!1}]),kt=Object(s.a)(wt,2),It=kt[0],At=kt[1],Tt=Object(c.useState)(""),Ft=Object(s.a)(Tt,2),Pt=Ft[0],Vt=Ft[1],Dt=Object(c.useState)(""),Et=Object(s.a)(Dt,2),Rt=Et[0],Ut=Et[1],qt=Object(c.useState)(1),Bt=Object(s.a)(qt,2),Mt=Bt[0],Lt=Bt[1],zt=Object(c.useState)(0),Zt=Object(s.a)(zt,2),Gt=Zt[0],Ht=Zt[1],Kt=Object(c.useState)(0),Wt=Object(s.a)(Kt,2),Yt=Wt[0],Jt=Wt[1],Xt=Object(c.useState)(0),$t=Object(s.a)(Xt,2),Qt=$t[0],_t=$t[1],en=Object(c.useState)([]),tn=Object(s.a)(en,2),nn=tn[0],cn=tn[1],rn=Object(c.useState)(!1),an=Object(s.a)(rn,2),sn=an[0],ln=an[1],on=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ln(!0),e.next=3,new Promise((function(e){return setTimeout((function(){e(ln(!1))}),2e3)})).then((function(){var e={invoiceDate:I,invoiceTerm:P,invoiceSeries:hn(),invoiceNr:pn(),delName:G,delCNP:Y,delSeries:Q,transport:ne,companyName:je,companyCIF:Oe,companyRegCom:xe,companyAdresa:ye,companyCapSocial:we,companyCont:Te,companyBank:De,companyTelefon:qe,companyTVA:ze,companyTVApay:Ke,companyLogo:Xe,clientName:rt,clientCIF:lt,clientRegCom:dt,clientAdresa:ht,clientCont:ft,clientBank:Nt,items:nn};t(e),h(e),C.push("/generated-invoice")}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jn=function(e,t){return t?ot(e):pe(e),0===e.length?(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cif:!1})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cif:!1})]})),null):e.length<2||e.length>10||!e.includes("RO")?(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cif:!0})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cif:!0})]})),null):function(e){var t=753217532,n=parseInt(e.replace("RO","")),c=n%10;n=Math.floor(n/10);for(var r=0;n>0;)r+=n%10*(t%10),n=Math.floor(n/10),t=Math.floor(t/10);var a=10*r%11;return 10===a&&(a=0),c===a}(e)?(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cif:!1})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cif:!1})]})),null):void(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cif:!0})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cif:!0})]})))},un=function(e,t){return t?bt(e):ve(e),0===e.length?(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{regCom:!1})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{regCom:!1})]})),null):e.length<13?(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{regCom:!0})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{regCom:!0})]})),null):13===e.length&&function(e){return new RegExp("([J][0-9]{2})/([0-9]{4})/([0-9]{4})").test(e)}(e)?(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{regCom:!1})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{regCom:!1})]})),null):void(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{regCom:!0})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{regCom:!0})]})))},dn=function(e,t){return t?gt(e):Fe(e),0===e.length||function(e){return/^(?:(?:IT|SM)\d{2}[A-Z]\d{22}|CY\d{2}[A-Z]\d{23}|NL\d{2}[A-Z]{4}\d{10}|LV\d{2}[A-Z]{4}\d{13}|(?:BG|BH|GB|IE)\d{2}[A-Z]{4}\d{14}|GI\d{2}[A-Z]{4}\d{15}|RO\d{2}[A-Z]{4}\d{16}|KW\d{2}[A-Z]{4}\d{22}|MT\d{2}[A-Z]{4}\d{23}|NO\d{13}|(?:DK|FI|GL|FO)\d{16}|MK\d{17}|(?:AT|EE|KZ|LU|XK)\d{18}|(?:BA|HR|LI|CH|CR)\d{19}|(?:GE|DE|LT|ME|RS)\d{20}|IL\d{21}|(?:AD|CZ|ES|MD|SA)\d{22}|PT\d{23}|(?:BE|IS)\d{24}|(?:FR|MR|MC)\d{25}|(?:AL|DO|LB|PL)\d{26}|(?:AZ|HU)\d{27}|(?:GR|MU)\d{28})$/i.test(e)}(e)?(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cont:!1})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cont:!1})]})),null):void(t?At((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cont:!0})]})):tt((function(e){return[Object(u.a)(Object(u.a)({},e),{},{cont:!0})]})))},bn=function(e){Ht(""!==e?e:0),Jt((e*Mt).toFixed(2)),_t((ze/100*(e*Mt)).toFixed(2))},On=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("del"!==t){e.next=4;break}return e.abrupt("return",(ue(""),pe(""),ve(""),Ce(""),ke(0),Fe(""),Ee(""),Be(""),Ze(19),We(!0),$e(""),L(""),U(""),H(""),_(""),J(""),void se("")));case 4:n=r.filter((function(e){return e.compId===t})),c=n[0],m(c.name),ue(c.name),pe(c.cif),ve(c.regCom),Ce(c.address),ke(c.capSoc),Fe(c.account),Ee(c.bank),Be(c.phone),Ze(c.tva),We(c.tvaPay),se(c.compId),c.serie&&U(c.serie),c.term&&V(c.term),c.delName&&H(c.delName),c.delCNP&&J(c.delCNP),c.delCI&&_(c.delCI),L("");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pn=function(){return M||v.invoiceNr&&parseInt(v.invoiceNr)+1},hn=function(){return R||v.invoiceSeries},mn=function(e){if("del"===e)return at(""),ot(""),bt(""),mt(""),gt(""),void St("");var t=d.filter((function(t){return t.cliId===e}))[0];at(t.name),ot(t.cif),bt(t.regCom),mt(t.address),gt(t.account),St(t.bank)},xn=function(e){if("del"===e)return Vt(""),Ut(""),Ht(0),Lt(1),void bn(0);var t=g.filter((function(t){return t.prodId===e}))[0];Vt(t.name),Ut(t.um),Ht(t.price),Lt(1),bn(t.price)};return Object(x.jsxs)("div",{className:"main-menu",children:[Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"Factur\u0103 nou\u0103"}),Object(x.jsx)(w,{}),Object(x.jsx)("div",{className:"main-select",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("h3",{children:"Your companies:"}),Object(x.jsxs)("select",{className:"invoice-input",onChange:function(e){return On(e.target.value)},children:[Object(x.jsx)("option",{value:"del",children:"-"}),r.map((function(e,t){return Object(x.jsx)("option",{value:e.compId,children:e.name},t)}))]}),Object(x.jsx)("hr",{}),Object(x.jsx)("h2",{children:"Date factur\u0103"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Serie:"}),Object(x.jsx)("label",{children:"Num\u0103r:"}),Object(x.jsx)("label",{children:"Dat\u0103:"}),Object(x.jsx)("label",{children:"Termen plat\u0103:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",value:hn(),type:"text",onChange:function(e){return U(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:pn(),min:0,type:"number",onChange:function(e){return L(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:I,type:"date",onChange:function(e){return A(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:P,type:"number",placeholder:"zile",onChange:function(e){return V(e.target.value)}})]})]}),Object(x.jsx)("h3",{children:"Delegat"}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Nume:"}),Object(x.jsx)("label",{children:"CNP:"}),Object(x.jsx)("label",{children:"Serie CI:"}),Object(x.jsx)("label",{children:"Mijloc transport:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",value:G,type:"text",onChange:function(e){return H(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:Y,min:0,type:"number",onChange:function(e){return J(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:Q,type:"text",onChange:function(e){return _(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:ne,type:"text",onChange:function(e){return ce(e.target.value)}})]})]})]})}),Object(x.jsx)("div",{className:"main-select",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("h2",{children:"Firm\u0103"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Nume:"}),Object(x.jsx)("label",{children:"CIF:"}),Object(x.jsx)("label",{children:"Reg. com.:"}),Object(x.jsx)("label",{children:"Adresa:"}),Object(x.jsx)("label",{children:"Cap. social:"}),Object(x.jsx)("label",{children:"Banc\u0103:"}),Object(x.jsx)("label",{children:"Cont:"}),Object(x.jsx)("label",{children:"Telefon:"}),Object(x.jsx)("label",{children:"Cot\u0103 TVA:"}),Object(x.jsx)("label",{children:"TVA \xeencasare:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",value:je,type:"text",onChange:function(e){return ue(e.target.value)},required:!0}),Object(x.jsx)("input",{className:et[0].cif?"invoice-input-error":"invoice-input",value:Oe,type:"text",onChange:function(e){return jn(e.target.value.toUpperCase(),!1)},required:!0}),Object(x.jsx)("input",{className:et[0].regCom?"invoice-input-error":"invoice-input",value:xe,type:"text",onChange:function(e){return un(e.target.value.toUpperCase(),!1)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:ye,type:"text",onChange:function(e){return Ce(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:we,min:0,type:"number",onChange:function(e){return ke(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:De,type:"text",onChange:function(e){return Ee(e.target.value)}}),Object(x.jsx)("input",{className:et[0].cont?"invoice-input-error":"invoice-input",value:Te,type:"text",onChange:function(e){return dn(e.target.value.toUpperCase(),!1)}}),Object(x.jsx)("input",{className:"invoice-input",value:qe,pattern:"[0-9]{10}",type:"tel",onChange:function(e){return Be(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:ze,min:0,type:"number",onChange:function(e){return function(e){Ze(e>=0?e:0)}(e.target.value)},required:!0}),Object(x.jsxs)("select",{className:"invoice-input",value:Ke,onChange:function(e){return We(e.target.value)},children:[Object(x.jsx)("option",{value:!0,children:"DA"}),Object(x.jsx)("option",{value:!1,children:"NU"})]})]})]}),Object(x.jsx)("input",{className:"invoice-upload-file",accept:"image/*",type:"file",onChange:function(e){return function(e){$e(""),e&&$e(URL.createObjectURL(e))}(e.target.files[0])}}),Object(x.jsx)("br",{})]})}),Xe&&Object(x.jsxs)("div",{className:"main-select",children:[Object(x.jsx)("label",{children:"Logo preview:"}),Object(x.jsx)("img",{className:"img-preview",src:Xe,alt:"company logo"}),Object(x.jsx)("small",{title:"delete",style:{color:"red",cursor:"pointer",textDecoration:"underline"},onClick:function(){return $e("")},children:"Delete"})]}),Object(x.jsx)("div",{className:"main-select",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("h2",{children:"Client"}),Object(x.jsx)("hr",{}),Object(x.jsx)("h3",{children:"Clients:"}),Object(x.jsxs)("select",{className:"invoice-input",onChange:function(e){return mn(e.target.value)},children:[Object(x.jsx)("option",{value:"del",children:"-"}),d.map((function(e,t){return Object(x.jsx)("option",{value:e.cliId,children:e.name},t)}))]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Nume:"}),Object(x.jsx)("label",{children:"CIF:"}),Object(x.jsx)("label",{children:"Reg. com.:"}),Object(x.jsx)("label",{children:"Adresa:"}),Object(x.jsx)("label",{children:"Banc\u0103:"}),Object(x.jsx)("label",{children:"Cont:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",value:rt,type:"text",onChange:function(e){return at(e.target.value)},required:!0}),Object(x.jsx)("input",{className:It[0].cif?"invoice-input-error":"invoice-input",value:lt,type:"text",onChange:function(e){return jn(e.target.value.toUpperCase(),!0)},required:!0}),Object(x.jsx)("input",{className:It[0].regCom?"invoice-input-error":"invoice-input",value:dt,type:"text",onChange:function(e){return un(e.target.value.toUpperCase(),!0)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:ht,type:"text",onChange:function(e){return mt(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:Nt,type:"text",onChange:function(e){return St(e.target.value)}}),Object(x.jsx)("input",{className:It[0].cont?"invoice-input-error":"invoice-input",value:ft,type:"text",onChange:function(e){return dn(e.target.value.toUpperCase(),!0)}})]})]})]})}),Object(x.jsxs)("div",{className:"main-select",children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:Pt,um:Rt,qt:Mt,unitPrice:Gt,val:Yt,tva:Qt};cn((function(e){return[].concat(Object(j.a)(e),[t])})),Vt(""),Ut(""),Lt(0),Ht(0),Jt(0),_t(0)},children:[Object(x.jsx)("h2",{children:"Produse / Servicii"}),Object(x.jsx)("hr",{}),Object(x.jsx)("h3",{children:"Your products/services:"}),function(){var e=g;return ie&&(e=g.filter((function(e){return e.compId===ie||"any"===e.compId}))),Object(x.jsxs)("select",{className:"invoice-input",onChange:function(e){return xn(e.target.value)},children:[Object(x.jsx)("option",{value:"del",children:"-"}),e.map((function(e,t){return Object(x.jsx)("option",{value:e.prodId,children:e.name},t)}))]})}(),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Denumire:"}),Object(x.jsx)("label",{children:"UM:"}),Object(x.jsx)("label",{children:"Cantitate:"}),Object(x.jsx)("label",{children:"Pre\u021b unitar:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",type:"text",value:Pt,onChange:function(e){return Vt(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",type:"text",value:Rt,onChange:function(e){return Ut(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",type:"number",min:0,value:Mt,onChange:function(e){return function(e){Lt(""!==e?e:0),Jt((e*Gt).toFixed(2)),_t((ze/100*(e*Gt)).toFixed(2))}(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",type:"number",placeholder:"lei",step:"0.01",min:0,value:Gt,onChange:function(e){return bn(e.target.value)},required:!0})]})]}),Object(x.jsxs)("div",{children:["Valoare: ",Yt,"lei"]}),Object(x.jsx)("br",{}),ze>0&&Object(x.jsxs)("div",{children:["Valoare TVA: ",Qt,"lei"]}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"submit",value:"Add",className:"btn"})]}),nn.length>0&&Object(x.jsx)(k,{items:nn,valTVA:ze,delProd:function(e){cn(nn.filter((function(t,n){return n!==e})))}})]}),sn?Object(x.jsx)("div",{id:"overlay",children:Object(x.jsx)("div",{className:"spinner"})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.b,{to:"/",className:"btn btn-close-hide btn-left",children:"X"}),Object(x.jsx)("span",{title:"Generate",style:{position:"fixed",bottom:"1%",right:"10px"},className:"btn btn-right",onClick:on,children:"Next"})]})]})},A=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],j=i[1],u=f(),d=u.login,p=u.error,h=u.resetPassword,m=u.dbLoading,v=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(n,o);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(n);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"main-menu",children:[Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"Log in"}),Object(x.jsxs)("div",{className:"main-select",children:[Object(x.jsxs)("form",{onSubmit:v,children:[Object(x.jsx)("h4",{style:{color:"red"},children:p}),Object(x.jsx)("h2",{children:"Email"}),Object(x.jsx)("input",{type:"email",name:"email",className:"user-input",autoComplete:"on",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(x.jsx)("h2",{children:"Password"}),Object(x.jsx)("input",{type:"password",name:"password",className:"user-input",autoComplete:"on",value:o,onChange:function(e){return j(e.target.value)},required:!0}),Object(x.jsx)("br",{}),!m&&Object(x.jsx)("input",{className:"btn",type:"submit",value:"Log in"})]}),Object(x.jsx)(l.b,{to:"/register",children:"No account? Register"}),n&&Object(x.jsx)("div",{className:"btn",onClick:g,children:"Forgot password?"})]})]})},T=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],j=i[1],u=Object(c.useState)(""),d=Object(s.a)(u,2),p=d[0],h=d[1],m=Object(c.useState)(""),v=Object(s.a)(m,2),g=v[0],y=v[1],C=f(),N=C.signup,S=C.error,w=C.dbLoading,k=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),N(n,o,p,g);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"main-menu",children:[Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"Register"}),Object(x.jsxs)("div",{className:"main-select",children:[Object(x.jsxs)("form",{onSubmit:k,children:[Object(x.jsx)("h4",{style:{color:"red"},children:S}),Object(x.jsx)("h2",{children:"Email"}),Object(x.jsx)("input",{type:"email",name:"email",className:"user-input",autoComplete:"on",value:o,onChange:function(e){return j(e.target.value)},required:!0}),Object(x.jsx)("h2",{children:"Name"}),Object(x.jsx)("input",{type:"text",name:"name",className:"user-input",autoComplete:"on",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(x.jsx)("h2",{children:"Phone"}),Object(x.jsx)("input",{type:"tel",name:"tel",className:"user-input",autoComplete:"on",value:p,onChange:function(e){return h(e.target.value)},required:!0}),Object(x.jsx)("h2",{children:"Password"}),Object(x.jsx)("input",{type:"password",name:"password",className:"user-input",autoComplete:"on",value:g,onChange:function(e){return y(e.target.value)},required:!0}),Object(x.jsx)("br",{}),!w&&Object(x.jsx)("input",{className:"btn",type:"submit",value:"Register"})]}),Object(x.jsx)(l.b,{to:"/login",children:"Log in?"})]})]})},F=n(37),P=["component"],V=function(e){var t=e.component,n=Object(F.a)(e,P),c=f().currentUser;return Object(x.jsx)(o.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return c?Object(x.jsx)(t,Object(u.a)({},e)):Object(x.jsx)(o.a,{to:"/login"})}}))},D=function(){var e=Object(o.g)(),t=f(),n=t.userCompanies,r=t.newCompany,a=t.getCompanies,i=t.currentUser,l=t.updateCompany,j=t.deleteCompany,u=Object(c.useState)(!1),d=Object(s.a)(u,2),b=d[0],O=d[1],p=Object(c.useState)(!1),h=Object(s.a)(p,2),m=h[0],v=h[1],g=Object(c.useState)(""),y=Object(s.a)(g,2),C=y[0],N=y[1],S=Object(c.useState)(""),k=Object(s.a)(S,2),I=k[0],A=k[1],T=Object(c.useState)(""),F=Object(s.a)(T,2),P=F[0],V=F[1],D=Object(c.useState)(""),E=Object(s.a)(D,2),R=E[0],U=E[1],q=Object(c.useState)(""),B=Object(s.a)(q,2),M=B[0],L=B[1],z=Object(c.useState)(0),Z=Object(s.a)(z,2),G=Z[0],H=Z[1],K=Object(c.useState)(""),W=Object(s.a)(K,2),Y=W[0],J=W[1],X=Object(c.useState)(""),$=Object(s.a)(X,2),Q=$[0],_=$[1],ee=Object(c.useState)(""),te=Object(s.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)(19),ae=Object(s.a)(re,2),ie=ae[0],se=ae[1],le=Object(c.useState)(!0),oe=Object(s.a)(le,2),je=oe[0],ue=oe[1],de=Object(c.useState)(""),be=Object(s.a)(de,2),Oe=be[0],pe=be[1],he=Object(c.useState)(15),me=Object(s.a)(he,2),xe=me[0],ve=me[1],fe=Object(c.useState)(""),ge=Object(s.a)(fe,2),ye=ge[0],Ce=ge[1],Ne=Object(c.useState)(""),Se=Object(s.a)(Ne,2),we=Se[0],ke=Se[1],Ie=Object(c.useState)(""),Ae=Object(s.a)(Ie,2),Te=Ae[0],Fe=Ae[1],Pe=Object(c.useState)(""),Ve=Object(s.a)(Pe,2),De=Ve[0],Ee=Ve[1],Re=Object(c.useState)(""),Ue=Object(s.a)(Re,2),qe=Ue[0],Be=Ue[1];Object(c.useEffect)((function(){a(i.uid)}),[]);var Me=function(){A(""),V(""),U(""),L(""),H(0),J(""),_(""),ce(""),se(19),ue(!0),pe(""),Ce(""),ke(""),ve(15),Fe(""),Be(""),Ee("")},Le=function(){i.emailVerified?(O(!b),b&&Me(),v(!1)):window.confirm("Verify email to create a company")&&e.push("/profile")},ze=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{title:"edit",onClick:function(){return function(e){var t=n.filter((function(t){return t.compId===e}))[0];N(t.compId),A(t.name),V(t.cif),U(t.regCom),L(t.address),H(t.capSoc),J(t.account),_(t.bank),ce(t.phone),se(t.tva),ue(t.tvaPay),pe(t.logo),Ce(t.serie),ke(t.nrStart),ve(t.term),Fe(t.delName),Be(t.delCI),Ee(t.delCNP),v(!0),O(!0)}(e)},style:{padding:"5px"},className:"btn",children:"\u270f\ufe0f"}),Object(x.jsx)("span",{title:"delete",onClick:function(){return function(e){j(e),a(i.uid)}(e)},style:{cursor:"pointer"},children:"\u274c"})]})};return Object(x.jsxs)("div",{className:"main-menu",children:[Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"My Companies"}),Object(x.jsx)(w,{}),Object(x.jsxs)("div",{className:"main-select",children:[n.length>0?Object(x.jsx)("table",{className:"table-item-preview",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Nr."}),Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("th",{children:"CIF"}),Object(x.jsx)("th",{children:"Actions"})]}),n.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.address}),Object(x.jsx)("td",{children:e.cif}),Object(x.jsx)("td",{children:ze(e.compId)})]},t)}))]})}):Object(x.jsxs)("div",{children:["No companies..",Object(x.jsx)("span",{onClick:function(){return Le()},style:{textDecoration:"underline",cursor:"pointer",userSelect:"none"},children:"add one"})]}),Object(x.jsx)("div",{className:"btn",onClick:function(){return Le()},children:"Add new company"})]}),b&&Object(x.jsx)("div",{className:"main-select",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m?(l(C,I,P,R,M,G,Q,Y,ne,ie,je,Oe,ye,we,xe,Te,qe,De),O(!1),Me(),a(i.uid),v(!1)):(r(I,P,R,M,G,Q,Y,ne,ie,je,Oe,ye,we,xe,Te,qe,De),O(!1),Me(),a(i.uid))},children:[m?Object(x.jsx)("h2",{children:I}):Object(x.jsx)("h2",{children:"New company"}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Nume:"}),Object(x.jsx)("label",{children:"CIF:"}),Object(x.jsx)("label",{children:"Reg. com.:"}),Object(x.jsx)("label",{children:"Adresa:"}),Object(x.jsx)("label",{children:"Cap. social:"}),Object(x.jsx)("label",{children:"Banc\u0103:"}),Object(x.jsx)("label",{children:"Cont:"}),Object(x.jsx)("label",{children:"Telefon:"}),Object(x.jsx)("label",{children:"Cot\u0103 TVA:"}),Object(x.jsx)("label",{children:"TVA \xeencasare:"}),Object(x.jsx)("label",{children:"Serie facturi:"}),Object(x.jsx)("label",{children:"Nr \xeenceput:"}),Object(x.jsx)("label",{children:"Termen plat\u0103:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",value:I,type:"text",onChange:function(e){return A(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:P,type:"text",onChange:function(e){return V(e.target.value.toUpperCase())},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:R,type:"text",onChange:function(e){return U(e.target.value.toUpperCase())},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:M,type:"text",onChange:function(e){return L(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:G,min:0,type:"number",onChange:function(e){return H(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:Q,type:"text",onChange:function(e){return _(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:Y,type:"text",onChange:function(e){return J(e.target.value.toUpperCase())}}),Object(x.jsx)("input",{className:"invoice-input",value:ne,pattern:"[0-9]{10}",type:"tel",onChange:function(e){return ce(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:ie,min:0,type:"number",onChange:function(e){return se(e.target.value)},required:!0}),Object(x.jsxs)("select",{className:"invoice-input",value:je,onChange:function(e){return ue(e.target.value)},children:[Object(x.jsx)("option",{value:!0,children:"DA"}),Object(x.jsx)("option",{value:!1,children:"NU"})]}),Object(x.jsx)("input",{className:"invoice-input",value:ye,type:"text",onChange:function(e){return Ce(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:we,min:0,type:"number",onChange:function(e){return ke(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:xe,min:0,type:"number",onChange:function(e){return ve(e.target.value)},required:!0})]})]}),Object(x.jsx)("h4",{children:"Delegat"}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Nume:"}),Object(x.jsx)("label",{children:"Serie CI:"}),Object(x.jsx)("label",{children:"CNP:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",value:Te,type:"text",onChange:function(e){return Fe(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:qe,type:"text",onChange:function(e){return Be(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:De,type:"text",onChange:function(e){return Ee(e.target.value)}})]})]}),Object(x.jsx)("br",{}),m?Object(x.jsx)("input",{style:{marginTop:"20px"},className:"btn",type:"submit",value:"Update company"}):Object(x.jsx)("input",{style:{marginTop:"20px"},className:"btn",type:"submit",value:"Add company"})]})})]})},E=function(){var e=new Intl.NumberFormat("en-US"),t=f(),n=t.currentUser,r=t.userCompanies,a=t.clients,i=t.verifyEmail,l=t.updateProfile,o=t.getCompanies,j=t.getClients,u=t.getInvoices,d=t.invoices,b=t.invoicesEarnings,O=Object(c.useState)(!1),p=Object(s.a)(O,2),h=p[0],m=p[1],v=Object(c.useState)(!1),g=Object(s.a)(v,2),y=g[0],C=g[1],N=Object(c.useState)(n.displayName),S=Object(s.a)(N,2),k=S[0],I=S[1],A=Object(c.useState)(n.email),T=Object(s.a)(A,2),F=T[0],P=T[1],V=Object(c.useState)(n.phoneNumber),D=Object(s.a)(V,2),E=D[0],R=D[1];Object(c.useEffect)((function(){o(n.uid),j(n.uid),u(n.uid)}),[]);var U=function(e){e.preventDefault(),l(k,F,E),C(!1)};return Object(x.jsxs)("div",{className:"main-menu",children:[n?Object(x.jsxs)("h2",{style:{paddingTop:"5%",fontSize:"50px"},children:[n.displayName,"'s profile"]}):Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"Profile"}),Object(x.jsx)(w,{}),Object(x.jsxs)("div",{className:"main-select",children:[Object(x.jsx)("div",{onClick:function(){return m(!h)},className:"btn",children:"User info"}),h&&Object(x.jsxs)("div",{style:{border:"1px solid rgb(41, 41, 41)",padding:"20px",textAlign:"center",borderRadius:"15px"},children:[y?Object(x.jsxs)("form",{onSubmit:U,children:[Object(x.jsxs)("h3",{children:["Name:",Object(x.jsx)("input",{style:{fontSize:"1.5em",textAlign:"center"},type:"text",name:"name",required:!0,value:k,onChange:function(e){return I(e.target.value)}})]}),Object(x.jsxs)("h3",{children:["Email:",Object(x.jsx)("input",{style:{fontSize:"1.5em",textAlign:"center"},type:"email",name:"email",required:!0,value:F,onChange:function(e){return P(e.target.value)}})]}),Object(x.jsxs)("h3",{children:["Phone:",Object(x.jsx)("input",{style:{fontSize:"1.5em",textAlign:"center"},type:"tel",name:"tel",required:!0,value:E,onChange:function(e){return R(e.target.value)}})]}),Object(x.jsx)("input",{className:"btn",type:"submit",value:"Save"}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{onClick:function(){return C(!1)},style:{marginTop:"15px"},className:"btn log-out",children:"Cancel"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("h3",{children:["Name: ",Object(x.jsx)("span",{style:{fontSize:"1.5em"},children:n.displayName})]}),Object(x.jsxs)("h3",{children:["Email: ",Object(x.jsx)("span",{style:{fontSize:"1.5em"},children:n.email})]}),Object(x.jsxs)("h3",{children:["Phone: ",Object(x.jsx)("span",{style:{fontSize:"1.5em"},children:n.phoneNumber})]}),Object(x.jsx)("div",{onClick:function(){return C(!0)},className:"btn",children:"Edit"}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("small",{children:["Created: ",n.metadata.creationTime]})]}),!n.emailVerified&&Object(x.jsx)("div",{className:"btn log-out",onClick:function(){return i(n.email)},children:"VERIFY EMAIL"}),Object(x.jsx)("table",{className:"table-item-preview",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Companies"}),Object(x.jsx)("th",{children:"Clients"}),Object(x.jsx)("th",{children:"Invoices generated"}),Object(x.jsx)("th",{children:"Earnings"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:r.length}),Object(x.jsx)("td",{children:a.length}),Object(x.jsx)("td",{children:d.length}),Object(x.jsxs)("td",{children:[e.format(b)," lei"]})]})]})})]})]})},R=function(){var e=Object(o.g)(),t=f(),n=t.clients,r=t.newClient,a=t.getClients,i=t.currentUser,l=t.updateClient,j=t.deleteClient,u=Object(c.useState)(!1),d=Object(s.a)(u,2),b=d[0],O=d[1],p=Object(c.useState)(!1),h=Object(s.a)(p,2),m=h[0],v=h[1],g=Object(c.useState)(""),y=Object(s.a)(g,2),C=y[0],N=y[1],S=Object(c.useState)(""),k=Object(s.a)(S,2),I=k[0],A=k[1],T=Object(c.useState)(""),F=Object(s.a)(T,2),P=F[0],V=F[1],D=Object(c.useState)(""),E=Object(s.a)(D,2),R=E[0],U=E[1],q=Object(c.useState)(""),B=Object(s.a)(q,2),M=B[0],L=B[1],z=Object(c.useState)(""),Z=Object(s.a)(z,2),G=Z[0],H=Z[1],K=Object(c.useState)(""),W=Object(s.a)(K,2),Y=W[0],J=W[1];Object(c.useEffect)((function(){a(i.uid)}),[]);var X=function(){A(""),V(""),U(""),L(""),H(""),J("")},$=function(){i.emailVerified?(O(!b),b&&X(),v(!1)):window.confirm("Verify email to add a client")&&e.push("/profile")},Q=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{title:"edit",onClick:function(){return function(e){var t=n.filter((function(t){return t.cliId===e}))[0];N(t.cliId),A(t.name),V(t.cif),U(t.regCom),L(t.address),H(t.account),J(t.bank),v(!0),O(!0)}(e)},style:{padding:"5px"},className:"btn",children:"\u270f\ufe0f"}),Object(x.jsx)("span",{title:"delete",onClick:function(){return function(e){j(e),a(i.uid)}(e)},style:{cursor:"pointer"},children:"\u274c"})]})};return Object(x.jsxs)("div",{className:"main-menu",children:[Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"Clients"}),Object(x.jsx)(w,{}),Object(x.jsxs)("div",{className:"main-select",children:[n.length>0?Object(x.jsx)("table",{className:"table-item-preview",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Nr."}),Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("th",{children:"CIF"}),Object(x.jsx)("th",{children:"Actions"})]}),n.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.address}),Object(x.jsx)("td",{children:e.cif}),Object(x.jsx)("td",{children:Q(e.cliId)})]},t)}))]})}):Object(x.jsxs)("div",{children:["No clients..",Object(x.jsx)("span",{onClick:function(){return $()},style:{textDecoration:"underline",cursor:"pointer",userSelect:"none"},children:"add one"})]}),Object(x.jsx)("div",{className:"btn",onClick:function(){return $()},children:"Add new client"})]}),b&&Object(x.jsx)("div",{className:"main-select",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m?(l(C,I,P,R,M,Y,G),O(!1),X(),a(i.uid),v(!1)):(r(I,P,R,M,Y,G),O(!1),X(),a(i.uid))},children:[m?Object(x.jsx)("h2",{children:I}):Object(x.jsx)("h2",{children:"New client"}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Nume:"}),Object(x.jsx)("label",{children:"CIF:"}),Object(x.jsx)("label",{children:"Reg. com.:"}),Object(x.jsx)("label",{children:"Adresa:"}),Object(x.jsx)("label",{children:"Banc\u0103:"}),Object(x.jsx)("label",{children:"Cont:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",value:I,type:"text",onChange:function(e){return A(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:P,type:"text",onChange:function(e){return V(e.target.value.toUpperCase())},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:R,type:"text",onChange:function(e){return U(e.target.value.toUpperCase())},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:M,type:"text",onChange:function(e){return L(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",value:Y,type:"text",onChange:function(e){return J(e.target.value)}}),Object(x.jsx)("input",{className:"invoice-input",value:G,type:"text",onChange:function(e){return H(e.target.value.toUpperCase())}})]})]}),Object(x.jsx)("br",{}),m?Object(x.jsx)("input",{style:{marginTop:"20px"},className:"btn",type:"submit",value:"Update client"}):Object(x.jsx)("input",{style:{marginTop:"20px"},className:"btn",type:"submit",value:"Add client"})]})})]})},U=function(e){var t=e.generateInvoice,n=new Intl.NumberFormat("en-US"),r=Object(o.g)(),a=Object(c.useState)(!1),i=Object(s.a)(a,2),l=i[0],j=i[1],d=Object(c.useState)(!1),p=Object(s.a)(d,2),h=p[0],m=p[1],v=Object(c.useState)([]),g=Object(s.a)(v,2),y=g[0],C=g[1],N=Object(c.useState)({invoiceSeries:"",invoiceDate:"",companyName:"",clientName:"",range:{minVal:"",maxVal:""}}),S=Object(s.a)(N,2),k=S[0],I=S[1],A=f(),T=A.currentUser,F=A.getInvoices,P=A.invoices,V=A.userCompanies,D=A.getCompanies,E=A.clients,R=A.getClients,U=A.deleteInvoice;Object(c.useEffect)((function(){F(T.uid),D(T.uid),R(T.uid)}),[]),Object(c.useEffect)((function(){C(P)}),[P]),Object(c.useEffect)((function(){P.length&&q(k)}),[k]);var q=function(e){var t=function(e){return"string"===typeof e?e.toUpperCase():e},n=Object.keys(e),c=P.filter((function(c){return n.every((function(n){return e[n].length||"range"===n?"range"===n?e[n].maxVal.length||e[n].minVal.length?e[n].maxVal.length?e[n].minVal.length?Z(c.items)>parseInt(e[n].minVal)&&Z(c.items)<parseInt(e[n].maxVal):Z(c.items)<parseInt(e[n].maxVal):Z(c.items)>parseInt(e[n].minVal):P:t(e[n]).includes(t(c[n])):P}))}));C(c)},B=function(e){var t=new Date(e),n=t.getMonth()+1<10?("0"+t.getMonth()+1).slice(-2):t.getMonth()+1,c=t.getDate()<10?("0"+t.getDate()).slice(-2):t.getDate();return"".concat(c,"/").concat(n,"/").concat(t.getFullYear())},M=function(e){if(!e)return"";var t=new Date(e),n=t.getMonth()+1<10?("0"+t.getMonth()+1).slice(-2):t.getMonth()+1,c=t.getDate()<10?("0"+t.getDate()).slice(-2):t.getDate();return"".concat(t.getFullYear(),"-").concat(n,"-").concat(c)},L=function(){var e=Object(O.a)(b.a.mark((function e(n){var c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),c=P.filter((function(e){return e.invId===n})),a=c[0],e.next=5,new Promise((function(e){return setTimeout((function(){e(j(!1))}),1500)})).then((function(){t(a),r.push("/generated-invoice")}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){C(P)},Z=function(e){var t=0;return e.map((function(e){return t+=parseFloat(e.val)+parseFloat(e.tva)})),t.toFixed(2)};return Object(x.jsxs)("div",{className:"main-menu",children:[Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"History"}),Object(x.jsx)(w,{}),Object(x.jsx)("div",{onClick:function(){return m(!h)},style:{textDecoration:"underline",cursor:"pointer",userSelect:"none",marginBottom:"15px"},children:"Filters"}),h&&Object(x.jsxs)("div",{className:"main-select",style:{marginBlock:"15px"},children:[Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels filter-labels",children:[Object(x.jsx)("div",{children:"Series:"}),Object(x.jsx)("div",{children:"Date created:"}),Object(x.jsx)("div",{children:"Company:"}),Object(x.jsx)("div",{children:"Client:"})]}),Object(x.jsxs)("div",{className:"form-input filter-labels",children:[Object(x.jsx)("input",{value:k.invoiceSeries,onChange:function(e){return I(Object(u.a)(Object(u.a)({},k),{},{invoiceSeries:e.target.value}))},type:"text",className:"filter-input"}),Object(x.jsx)("input",{style:{marginBlock:"0",marginTop:"-30px"},onChange:function(e){return I(Object(u.a)(Object(u.a)({},k),{},{invoiceDate:M(e.target.value)}))},type:"date",className:"filter-input"}),Object(x.jsxs)("select",{className:"filter-input",onChange:function(e){return I(Object(u.a)(Object(u.a)({},k),{},{companyName:e.target.value}))},children:[Object(x.jsx)("option",{value:"",children:"-"}),V.map((function(e,t){return Object(x.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(x.jsxs)("select",{className:"filter-input",onChange:function(e){return I(Object(u.a)(Object(u.a)({},k),{},{clientName:e.target.value}))},children:[Object(x.jsx)("option",{value:"",children:"-"}),E.map((function(e,t){return Object(x.jsx)("option",{value:e.name,children:e.name},t)}))]})]})]}),Object(x.jsxs)("div",{style:{marginTop:"-10px"},children:[Object(x.jsx)("div",{children:"Value range:"}),Object(x.jsx)("input",{type:"number",className:"filter-input",style:{width:"25%"},onChange:function(e){return I(Object(u.a)(Object(u.a)({},k),{},{range:Object(u.a)(Object(u.a)({},k.range),{},{minVal:e.target.value})}))}}),"-",Object(x.jsx)("input",{type:"number",className:"filter-input",style:{width:"25%"},onChange:function(e){return I(Object(u.a)(Object(u.a)({},k),{},{range:Object(u.a)(Object(u.a)({},k.range),{},{maxVal:e.target.value})}))}})]}),Object(x.jsx)("small",{onClick:z,style:{marginBlock:"-10px",textDecoration:"underline",cursor:"pointer",userSelect:"none"},children:"reset filters"})]}),P.length>0&&Object(x.jsxs)("div",{children:["Showing ",y.length," invoices"]}),l?Object(x.jsx)("div",{id:"overlay",children:Object(x.jsx)("div",{className:"spinner"})}):Object(x.jsx)(x.Fragment,{children:y.length>0?y.map((function(e){return Object(x.jsxs)("div",{style:{marginBlock:"20px"},className:"main-select history-main",children:[Object(x.jsxs)("h3",{children:[Object(x.jsx)("small",{children:"Invoice series: "}),e.invoiceSeries,Object(x.jsx)("small",{children:" nr: "}),e.invoiceNr,Object(x.jsx)("small",{children:" from: "}),B(e.invoiceDate)]}),Object(x.jsxs)("div",{className:"history-row",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Furnizor:"}),Object(x.jsx)("h3",{children:e.companyName}),Object(x.jsx)("div",{style:{fontStyle:"italic"},children:e.companyCIF})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Client:"}),Object(x.jsx)("h3",{children:e.clientName}),Object(x.jsx)("div",{style:{fontStyle:"italic"},children:e.clientCIF})]})]}),Object(x.jsxs)("div",{children:["Value: ",n.format(Z(e.items))," lei"]}),Object(x.jsx)("div",{onClick:function(){return L(e.invId)},style:{textDecoration:"underline",cursor:"pointer",userSelect:"none"},children:"Preview invoice"}),Object(x.jsx)("small",{onClick:function(){return t=e.invId,U(t),void F(T.uid);var t},title:"Delete invoice",style:{textDecoration:"underline",cursor:"pointer",userSelect:"none",color:"red",marginTop:"-20px"},children:"Delete"})]},e.invId)})):Object(x.jsx)("div",{children:"No invoices.."})})]})},q=function(){var e=new Intl.NumberFormat("en-US"),t=Object(o.g)(),n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],i=r[1],l=Object(c.useState)("any"),j=Object(s.a)(l,2),u=j[0],d=j[1],b=Object(c.useState)(""),O=Object(s.a)(b,2),p=O[0],h=O[1],m=Object(c.useState)(""),v=Object(s.a)(m,2),g=v[0],y=v[1],C=Object(c.useState)(0),N=Object(s.a)(C,2),S=N[0],k=N[1],I=Object(c.useState)(!1),A=Object(s.a)(I,2),T=A[0],F=A[1],P=Object(c.useState)(!1),V=Object(s.a)(P,2),D=V[0],E=V[1];Object(c.useEffect)((function(){q(B.uid),L(B.uid)}),[]);var R=f(),U=R.userCompanies,q=R.getCompanies,B=R.currentUser,M=R.products,L=R.getProducts,z=R.deleteProduct,Z=R.newProduct,G=R.updateProduct,H=function(){h(""),y(""),k(0),d("any")},K=function(){B.emailVerified?(F(!T),T&&H(),E(!1)):window.confirm("Verify email to create a product/service")&&t.push("/profile")},W=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{title:"edit",onClick:function(){return function(e){var t=M.filter((function(t){return t.prodId===e}))[0];i(t.prodId),h(t.name),y(t.um),k(t.price),d(t.compId),E(!0),F(!0)}(e)},style:{padding:"5px"},className:"btn",children:"\u270f\ufe0f"}),Object(x.jsx)("span",{title:"delete",onClick:function(){return function(e){z(e),L(B.uid)}(e)},style:{cursor:"pointer"},children:"\u274c"})]})};return Object(x.jsxs)("div",{className:"main-menu",children:[Object(x.jsx)("h1",{style:{paddingTop:"5%",fontSize:"50px"},children:"Products & Services"}),Object(x.jsx)(w,{}),Object(x.jsxs)("div",{className:"main-select",children:[M.length>0?Object(x.jsx)("table",{className:"table-item-preview",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Nr."}),Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"UM"}),Object(x.jsx)("th",{children:"Pice"}),Object(x.jsx)("th",{children:"Comp"}),Object(x.jsx)("th",{children:"Actions"})]}),M.map((function(t,n){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:n+1}),Object(x.jsx)("td",{children:t.name}),Object(x.jsx)("td",{children:t.um}),Object(x.jsx)("td",{children:e.format(t.price)}),Object(x.jsx)("td",{children:(c=t.compId,"any"!==c?U.filter((function(e){return e.compId===c}))[0].name:"Any")}),Object(x.jsx)("td",{children:W(t.prodId)})]},n);var c}))]})}):Object(x.jsxs)("div",{children:["No products/services..",Object(x.jsx)("span",{onClick:function(){return K()},style:{textDecoration:"underline",cursor:"pointer",userSelect:"none"},children:"add one"})]}),Object(x.jsx)("div",{className:"btn",onClick:function(){return K()},children:"Add new product/service"})]}),T&&Object(x.jsx)("div",{className:"main-select",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D?(G(a,p,g,S,u),F(!1),H(),E(!1),L(B.uid)):(Z(p,g,S,u),F(!1),H(),L(B.uid))},children:[D?Object(x.jsx)("h2",{children:p}):Object(x.jsx)("h2",{children:"New Product/Service"}),Object(x.jsxs)("div",{className:"form-structure",children:[Object(x.jsxs)("div",{className:"form-labels",children:[Object(x.jsx)("label",{children:"Denumire:"}),Object(x.jsx)("label",{children:"UM:"}),Object(x.jsx)("label",{children:"Pre\u021b unitar:"})]}),Object(x.jsxs)("div",{className:"form-input",children:[Object(x.jsx)("input",{className:"invoice-input",type:"text",value:p,onChange:function(e){return h(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",type:"text",value:g,onChange:function(e){return y(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"invoice-input",type:"number",placeholder:"lei",step:"0.01",min:0,value:S,onChange:function(e){return k(e.target.value)},required:!0})]})]}),Object(x.jsx)("h4",{children:"For company:"}),Object(x.jsxs)("select",{className:"invoice-input",defaultValue:u,required:!0,onChange:function(e){return d(e.target.value)},children:[Object(x.jsx)("option",{value:"any",children:"Any"}),U.map((function(e,t){return Object(x.jsx)("option",{value:e.compId,children:e.name},t)}))]}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{style:{marginTop:"20px"},className:"btn",type:"submit",value:D?"Update product/service":"Add product/service"})]})})]})};var B=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=function(e){r(e)};return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(l.a,{children:Object(x.jsx)(g,{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(V,{exact:!0,path:"/",component:S}),Object(x.jsx)(V,{exact:!0,path:"/react-invoice-generator-RO",component:S}),Object(x.jsx)(o.b,{component:A,path:"/login"}),Object(x.jsx)(o.b,{component:T,path:"/register"}),Object(x.jsx)(V,{component:D,path:"/companies"}),Object(x.jsx)(V,{component:E,path:"/profile"}),Object(x.jsx)(V,{component:R,path:"/clients"}),Object(x.jsx)(V,{component:q,path:"/products"}),Object(x.jsx)(V,{component:function(){return Object(x.jsx)(U,{generateInvoice:a})},path:"/history"}),Object(x.jsx)(V,{component:function(){return Object(x.jsx)(I,{generateInvoice:a})},path:"/new-invoice"}),Object(x.jsx)(o.b,{path:"/generated-invoice",children:Object(x.jsx)(N,{data:n})})]})})})})},M=n(30),L=function(){return Object(x.jsx)("div",{className:"mobile-main",children:Object(x.jsxs)("div",{className:"mobile-text",children:[Object(x.jsx)("div",{children:"\u2b50\u2b50\u2b50"}),"Please access this website on a computer.",Object(x.jsx)("div",{children:"\u2b50\u2b50\u2b50"})]})})};i.a.render(Object(x.jsxs)(r.a.StrictMode,{children:[Object(x.jsx)(M.BrowserView,{children:Object(x.jsx)(B,{})}),Object(x.jsx)(M.MobileView,{children:Object(x.jsx)(L,{})})]}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.50dba791.chunk.js.map